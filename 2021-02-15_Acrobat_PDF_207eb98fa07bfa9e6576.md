<!--
title:   印刷目的ではないPDFの容量をAcrobatで減らす方法
tags:    Acrobat,PDF
id:      207eb98fa07bfa9e6576
private: false
-->
## この記事で分かること

[Adobe Acrobat DC](https://acrobat.adobe.com/jp/ja/acrobat.html)を用いて、印刷目的でないPDFの容量を減らす方法を書きました。 [^1]

[^1]: 逆に、印刷には不向きな変換をかけているので印刷目的の場合はこの記事の内容は実施しないでください。

誰でも使う形式なのに、容量の大きなデータになりがちなPDF。
ファイルサイズが大きくなるとダウンロードや閲覧の体験が悪くなりますが、その対策が分かる記事です。

## やり方

最初に、容量を減らしたいファイルのバックアップをとっておきます。
基本的には見た目に影響が出ないような設定を選びますが、多少なりとも画像が荒れたり、設定次第では色がくすんだりします。
何事においてもそうですが念のため元ファイルは退避させておいてください。

バックアップが済んだらAcrobatを起動します。

![Acrobatの起動画面。この時点では何も写っていない。](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/32734619-ee44-5e45-9921-4fbef4a9ac59.png)

次にアプリケーションメニューの`ファイル -> 開く...`から圧縮したいファイルを選択し、開きます。

![メニューバー左上。“ファイル”の中に“開く...”が存在する](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/d0d7c38e-5b1d-46c4-5c00-6ecbdaa271a5.png)

ファイルを開くとこんな様子。
手元ですぐ用意出来たので、最近社内の勉強会で使ったデータを使って説明します。

ソフトのバージョンや各自の設定で多少見た目が違うかもしれませんが、右側のナビゲーションに`PDFを最適化`というボタンがあると思うので押してください。

![右側ナビゲーションのうち下から2番目に「PDFを最適化」のメニューがある](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/28b29ad7-bc90-bc1a-e4dc-2dae3034896b.png)

するとインターフェースがこのように変わるので、今度は上部のメニューにある`高度な最適化`を選びます。

（左側にある`ファイルサイズを縮小`でも良いのですが、`高度な最適化`の方がより高い効果を得られるのでこちらの説明をします。）

こちらのボタンを押すと`一旦保存しないと次に進めません`といった旨のダイアログが出ます。
指示に従って進みましょう。

なお、この段階の保存でも若干ファイルサイズが削減されます。 [^2]

[^2]: 調べようと試みましたが、このタイミングでのファイルサイズ削減によって何が失われているのかは分かりませんでした。しかしファイルサイズが減っている以上はどこかのデータが失われているはずです。可逆的な圧縮がかかっているだけな可能性もありますが、実行されている処理が分からない以上は最初に説明したようにバックアップをとっておくことをオススメします。

![画面上部、左右真ん中あたりに“高度な最適化”のメニューが存在する](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/f186e921-97ab-f2ac-7012-4f775dd07b7e.png)

さてダイアログの先に進むとこのようなウィンドウが出てきます。ナビゲーションは以下の項目で構成されています。

- 画像
- フォント
- 透明
- オブジェクトを破棄
- ユーザーデータを破棄
- 最適化

![PDFの最適化ウィンドウ。初期では“画像”メニューが開かれている](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/88f3f2d4-6381-aa45-0f3f-e32cadb957ea.png)

`画像`メニューでは、以下の画像で赤枠で囲った箇所だけ触ればよっぽど大丈夫です。
添付画像はデフォルトの状態で、これを活かして説明します。

- カラー画像とグレースケール画像の`次の解像度を超える場合`の値を`151`に変える [^3]
- 白黒画像の`300`を`150`に変更し`次の解像度を超える場合`を`151`に変える
    - 印刷であれば白黒画像はカラー画像よりも高い解像度を持たせておくのがセオリーながら、ディスプレイで見る分には150ppiもあれば十分ではないかと考える（個人的には）

[^3]: このように設定をしないと、151~224ppiの画像はダウンサンプルされなくなってしまうため容量の削減度合いが小さくなってしまいます。例えばダウンサンプルするppiを200にするなら201を設定しましょう。

![カラー画像の“次の解像度を超える場合”、グレースケール画像画像の“次の解像度を超える場合”、白黒画像の解像度と“次の解像度を超える場合”が変える対象](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/cb46116e-95ef-efb8-182c-1224cde84bce.png)

`フォント`メニューは容量を削減出来るのですが、設定をミスると文字の表示がおかしくなる場合もあるため今回は紹介しません。

また`透明`メニューも、画像の色が褪せてしまうケースに遭遇します。こちらも今回は紹介しません。

次は`オブジェクトを破棄`と`ユーザーデータを破棄`と`最適化`を一気に紹介します。

といっても簡単です。
添付画像はデフォルトの状態ですが、ここにある項目全てにチェックを入れてしまえばOKです。 [^4]

[^4]: 注意点があるとすれば、これらの項目をチェックすることによってアクセシビリティの低いPDFデータになってしまう可能性があります。しかし、アクセシビリティの高いPDFは作成時に意図的にタグやリンクを挿入しているはずです。そのため作成時に対応した内容があればその項目にはチェックをつけないという運用で大丈夫かと思われます。

![“オブジェクトを破棄”メニュー](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/2be816c6-0f66-e528-d0cb-2df69c62be73.png)

![“ユーザーデータを破棄”メニュー](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/370f4a11-c751-c2f2-f9cc-2bf51c6820ed.png)

![“最適化”メニュー](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/8a339064-d5b3-41f0-e931-a8ef6eb82a64.png)

上記全てが完了したら、ウィンドウ右下の`OK`ボタンを押すとデータを保存できます。
最初にもバックアップをとっていますが、別名にリネームして保存するのが安全でしょう。

## 圧縮結果

今回例で使ったファイルは以下のように圧縮できました。
もともとベクターデータが大半なファイルだったので5MB程度の圧縮ですが、写真の多いファイルだとかなり効果があると思われます。

| 最適化前 | 最適化後 |
| --- | --- |
| ![最適化前のファイル。容量は8.8MB。](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/6e0c48eb-307a-e44c-a92e-397cfe000351.png) | ![最適化後のファイル。容量は3.2MB。](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/c12e6e56-5522-3e8d-4f67-f32b519f3ada.png) |

## 何故この記事を書いたか

プレゼン資料やポートフォリオ、アニュアルレポートなどなどPDFは色々なところで使われています。
それなのに適切な設定がされておらず、百MB超のデータをダウンロードさせられる日もありますよね？

Webであれば画像圧縮によるパフォーマンス向上は当たり前の話ですし、ノウハウもよく公開されていると思います
一方PDFの圧縮の話はそんなに多くは聞きません。
世のみなさんの、資料を閲覧する体験を向上したいと思い、記事を書いてみました。