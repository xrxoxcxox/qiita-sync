<!--
title:   glTFに書き出してthree.jsで使う前提のBlenderデータでの命名
tags:    Blender,glTF,three.js
id:      4e6d9a9de5d867c990d6
private: false
-->
## この記事の概要

Blenderでは要素を複製すると、`元の名前.001`、`元の名前.002`というルールで名付けられます。
three.jsで`if (object.name === 'Cube.001')`のようなコードを書いた際に動かなかったので、挙動を調べました。
その上で「こういう命名がいいのでは？」と考えたので記事にしてみました。

ただ、世間の常識というよりは個人的な考えのまとめなので「それは違うんじゃないの？」などがあればコメント or 編集リクエストをお願いします :bow:

## 今回たどり着いた結論

名前が重複する要素は、以下のどちらかの命名にしておくのが良さそうです。

- `Mesh`、`Mesh_001`、`Mesh_002`
- `Mesh_000`、`Mesh_001`、`Mesh_002`

上の命名ならもともとのBlenderの命名から、`.`を`_`に置き換えるだけで良いので楽そう。
下の命名ならループを回して「名前が合致したら云々」のようなコードを書く際に楽そう、という理由です。

## 調査

以下の表のようになりました。

| Blenderでの名前 | .glbでの名前 | three.jsでの名前 |
| --- | --- | --- |
| Mesh | Mesh | Mesh |
| Mesh.001 | Mesh.001 | Mesh001 |
| Mesh 001 | Mesh 001 | Mesh_001 |
| Mesh-001 | Mesh-001 | Mesh-001 |
| Mesh_001 | Mesh_001 | Mesh_001 |

### 環境

| ソフト、ライブラリ | バージョン |
| --- | --- |
| Blender | 3.3.1 |
| three.js | 0.146.0 |

### 確認した方法

1. Blender上で`Mesh`という名前の要素を作成し、`.`、`スペース`、`-`、`_`を用いて名前をつける
1. 書き出した`.glb`ファイルを開き、内容を確認する
1. `if (object.isMesh) console.log(object.name);`でコンソールに名前を出力して確認する

## 最後に

Blenderで書き出し用データを作る際、Modifierをapplyしておくべきなのと同様に、名前もちゃんとつけておいた方が良いなと思いました。

あと、.glbファイル内ではスペースやピリオドを含んだ名前として記載されているのに、three.jsで読むと勝手に変わるんだ……と驚きはしました。

---

最後まで読んでくださってありがとうございます！
Twitterでも情報を発信しているので、良かったらフォローお願いします！

https://twitter.com/xrxoxcxox

Devトークでのお話してくださる方も募集中です！

https://jobs.qiita.com/employers/qiita-inc/dev_talks/489