<!--
title:   ZoomのTips: フットペダルで効率良く自分のミュートのオンオフを切り替える
tags:    BetterTouchTool,Karabiner,karabiner-Elements,Zoom
id:      d175f074b5d9677375d8
private: false
-->
## ビデオ会議ツールが浸透したことで新たなエチケットが誕生しつつある

リモートワークの一般化によって、[Zoom](https://zoom.us)などのツールがかなり浸透しました。
もはや常時接続しているチームも多いのではないでしょうか？（私のチームは完全に繋ぎっぱなしです）

それに伴い、背景設定や部屋の入退出の仕方など、ちらほら新しいエチケットが生まれている気がします。
中でも個人的に意識しているのは「**相手にノイズを聞かせない**」です。

環境音やタッチノイズ、鼻息などがずっと聴こえる状況……好ましくはありませんよね？
（私は聴覚過敏気味なので余計にそう感じるのかもしれません）

自分がそう感じる以上、相手へのノイズは最大限減らすのがスジだと思い、試行錯誤してみました。

## 方針

- **フットペダルを購入** <- 大事
- ショートカットキーを新規作成、フットペダルに割り当てる
- フットペダルを踏んだらZoomをアクティブウィンドウにする
- フットペダルを踏んでいる間、Spaceをkeydownにする
- フットペダルから足を離したら、Spaceをkeyupにする

## フットペダルの購入

今の時期では通販で手に入れる他ありません。早めに購入しておきましょう。

参考までに私は[こちらの製品（Amazonのリンクです）](https://www.amazon.co.jp/dp/B07T2R2CXW)を購入しました。
要はキーボードとしてキー入力が出来れば何でも大丈夫だと思われます。

設置の仕方はこんな具合です。USBケーブルで接続して、床に置いているだけ。

![IMG_0015.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/e37a7910-2a26-21ef-febf-8bb58067deb8.jpeg)


なぜフットペダルが良いのかは後述します。

## Zoomの設定

`設定 > オーディオ`より、以下の2つにチェックをつけます。

- ミーティングに参加時、マイクをミュートにする
- スペースキー長押しして、一時的に自分をミュート解除できます

デフォルトは自分のマイクをミュートにしつつ、話したいときだけ解除する準備ができました。

![スクリーンショット 2020-05-04 8.13.17.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/73145f10-a5e1-2474-097c-f050a6f88ffa.png)

## Karabiner-Elementsの設定（不要な場合有り）

※[Karabiner-Elements](https://karabiner-elements.pqrs.org/)そのものの説明は様々な記事でなされているので省略します。
※フットペダルの機種によっては何のキーを送るかを設定出来るものもありそうです。
その場合はこのステップは飛ばしてください。

### ショートカットキーの割当て設定

購入したフットペダルのキーに任意のショートカットキーを割り当てます。
先ほど紹介した商品ですと、ペダルを踏むと入力されるのは`b`でした。

何故bなのかは分かりませんが、このままでは使えませんのでキー設定を変更します。

`From key`に元々のフットペダルが持つキー、`To key`には変更したいキーを選択します。
自分の環境なら`From key`は`b`、`To key`は何でも良いのですが空いていたので`f20`を選択しました。

![スクリーンショット 2020-05-04 8.56.41.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/15d25b18-2d3f-6563-8b54-03686379c2b0.png)

## BetterTouchToolの設定

※[BetterTouchTool](https://folivora.ai/)そのものの説明は様々な記事でなされているので省略します。

### ミュートを解除する設定

他の画面からZoomに移り、ミュートを解除するように設定します。

使う機能は“キーボードショートカット”です。
枠で囲ったドロップダウンから選択してください

![スクリーンショット 2020-05-04 7.41.29.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/580e036f-38fd-6736-0bb2-fabd47c899ce.png)

選択したら早速+ボタンを押して設定していきます。
（説明の都合上グループを作成していますが本筋とは関係ないので無視してください）

「ショートカットを記録するには、下記をクリック」のエリアをクリックした後、先ほどフットペダルに割り当てたキーを選んでください。
というより、フォーカスを当ててフットペダルを踏めばOKです。

![スクリーンショット 2020-05-04 7.44.29.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/2f0ff32a-81ff-bfc1-7052-8cb43cc32f55.png)

次はトリガーを割り当てます。+ボタンをクリックしてください。

![スクリーンショット 2020-05-04 7.48.06.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/ad5c7145-187d-2515-48d9-8200f6fb85d9.png)

`Controlling Other Applications > 特定のアプリケーションを表示/非表示`を選択します。　

![スクリーンショット 2020-05-04 7.49.40.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/10e068cd-28e2-f4d6-ad95-5a573894d9eb.png)

`アプリを選択 > Zoom.us.app`を選択します。

![スクリーンショット 2020-05-04 7.52.46.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/2c2f6645-c5b4-0896-2068-d5eebdeb2a2f.png)

`Only Show`にチェックを入れます。

![スクリーンショット 2020-05-04 7.55.38.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/0d730144-23e5-8c96-b1dd-1738169c38f5.png)

もう一度+ボタンを押してアクションを追加します。
今度は`Auxilliary Actions > 次のアクションを遅らせる`を選択します。

あまり美しくない手段ながらも、このアクションを挟まないと上手くミュート解除が効きません。
私は遅延の秒数を0.15秒にしましたが好みの問題だと思います。

![スクリーンショット 2020-05-04 7.57.20.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/5c876690-0b7b-6267-27df-fd5a6882256c.png)

更にもう一度+ボタンを押してアクションを追加します。

`キーボードショートカットを送信する`を選び、スペースを設定します。

![スクリーンショット 2020-05-04 8.18.24.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/27eb7350-93d3-f760-7484-48a957a3f910.png)

このとき、下部にあるドロップダウンから`Send Key Down Only`を選んでください。

![スクリーンショット 2020-05-04 8.20.14.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/41a0811f-a7be-5a3d-2e8f-cd29c06729a2.png)

ここまで出来たら、一度Zoomを非アクティブにしてからフットペダルを踏んでください。
入力後は足を離さず踏みっぱなしにします。

Zoomがアクティブになり、「一時的にミュートが解除されました」と表示されれば成功です。

### ミュートに戻す設定

次はペダルから足を離したらミュートに戻るように設定します。

先ほどと同様に、使う機能はキーボードショートカットです。+ボタンを押してください。

![スクリーンショット 2020-05-04 8.27.58.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/64aec23e-a9fa-64e6-7568-529238aaed9c.png)

ミュート解除のときに選んだショートカットと同じものを記録するのですが、オプションより`キーアップでトリガー`を選んでください。

![スクリーンショット 2020-05-04 8.29.18.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/89bf88b4-28d9-b6c0-e886-cac785e34022.png)

スペースキーを登録し、`Send Key Up Only`を選びます。

![スクリーンショット 2020-05-04 8.33.23.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/214677/1f5efec9-06a8-6df2-170b-5e9abb8a39c6.png)

ミュートに戻す手順はこれだけです。

ペダルを踏んでいる間は「一時的にミュートが解除されました」と表示され、離せばミュートに戻れば成功です。

## おまけ: 何故フットペダルを使うのか？

まず私のミュート設定の変遷を記します。

1. `command + shift + A`でミュートのオンオフ切替
1. 基本ミュートで、スペースキー押下時だけミュート解除
1. ↑にショートカットを設定し、いつでもミュート解除できるように
1. フットペダルへ行き着く

変化していった理由は以下です。

- `command + shift + A`でのミュート切替はあくまでトグルであり、今がミュートなのかそうでないのかを確認しないといけない
    - ミュートにし忘れた状態で`command + shift + A`を押すとミュートになる、つまり話し始めたタイミングでミュートをかけてしまって全くもって無意味
    - 今がミュートかどうかに関心を持ちたくなく、「ミュートにする」意思をダイレクトに行動に反映させたかった
- スペースキー押下時だけミュートが解除されるのは良かったものの、アクティブウィンドウがZoomでないと効果がないので手間
    - 現在はトリプルディスプレイで制作をしているのもあって、Zoomをどこに配置したか見失うときもあった
    - 微妙にタイムラグが生まれて不便、話そうと思ったらそのタイミングで話したい
- ショートカットを設定してほとんど解消したものの、手がふさがる
    - タイムラグの問題は解消
    - しかし、どんなキーを設定するにせよ片手はふさがってしまう
    - 話しながらタイピングしたいとか画面を共有して操作したいときに不便
- 手がダメなら足を使おう
    - 足なら踏みっぱなしでも作業に影響は無い
    - 話すときは踏む、そうでないときは踏まない、非常に簡潔で分かりやすい

このように、他タスクの効率を落とさず、それでいてノイズを相手に聞かせないために試行錯誤した結果がフットペダルなのです。

ちなみに「ここまで色々やってきたけど、もしかして[Krisp](https://jp.vcube.com/service/krisp/pricing)で全部解決出来るのでは？」と思い始めたところです。

おしまい